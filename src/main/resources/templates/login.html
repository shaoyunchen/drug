<!DOCTYPE html>
<html lang="zh_CN" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="renderer" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title th:text="#{page.login}"></title>
    <link rel="shortcut icon" href="../../static/images/login/favicon.ico" type="image/x-icon" />
    <link type="text/css" rel="stylesheet" href="../static/css/login/reset.css" th:href="@{/css/login/reset.css}" />
    <link type="text/css" rel="stylesheet" href="../static/css/login/login.css" th:href="@{/css/login/login.css}" />
    <script src="../../static/js/jquery-3.1.0.min.js" th:src="@{/js/jquery-3.1.0.min.js}" type="text/javascript"/>
</head>
<body>
<!--<div id="container_demo">


    <div id="login" class="animate form">
        <h1>你大爷的怎么就不能登录了</h1>
        <div th:if="${param.error}">
            用户名或密码错
        </div>
        <div th:if="${param.logout}">
            您已注销成功
        </div>
        <div th:if="${param.expired}">
            超时重新登录
        </div>
        <form id='loginForm' th:action="@{/login}" method="POST">
            <p>
                <label> 用户名 </label>
                <input id="username" name="username" required="required" type="text"></input>
            </p>
            <p>
                <label> 密码 </label>
                <input id="password" name="password" required="required" type="password"></input>
            </p>

            &lt;!&ndash;
            <p>
              <input type="checkbox" name="loginkeeping" id="loginkeeping" value="loginkeeping">
              <label for="loginkeeping">保持登录</label>
            </p>
             &ndash;&gt;
            <p class="login button">
                <input type="submit" id="submitId" value="登录"></input>
            </p>
        </form>
    </div>

</div>-->
<div id="page-bd" style="margin-top: -1px;">
    <div class="whole-page">
        <div class="wrap">
            <div class="welcome">欢迎使用</div>
            <div class="sysname">
                <span th:text="#{sys.name}"></span>

            </div>
            <div class="login-module">
                <h1>账号登录</h1>
                <div th:if="${param.error}"  class="login-err">
                    用户名或密码错
                </div>
                <div th:if="${param.logout}" class="login-err">
                    您已注销成功
                </div>
                <div th:if="${param.expired}" class="login-err">
                    超时重新登录
                </div>
                <form id="aform" method="post" th:action="@{/login}" action="/login" class="loginForm" onkeydown="keyDown()">
                    <div class="row-i">
                        <label class="block">登录名：</label><input data-type="username" name="username" id="j_username"
                                                                type="text" placeholder="用户名"/><span class="err hidden">此项不能为空</span>
                    </div>
                    <div class="row-i row-m-2">
                        <label class="block">登录密码：</label><input data-type="password" name="password" id="j_password"
                                                                 type="password" placeholder="登录密码" /><span
                            class="err hidden">此项不能为空</span>
                    </div>
                    <!--<div class="row-i row-m-1">-->
                        <!--<label>图片验证码：</label><input class="in-w" data-type="code" type="text" placeholder="请输入验证码"-->
                                                    <!--maxlength="5" name="rand" onFocus="loadImage()" id="randImg">-->
                    <!--</div>-->
                    <div class="row-i row-m-1">
                        <input data-type="check" class="check" type="checkbox" value="0" id="checkRelogin" /><label
                            class="select">十天之内自动登录</label><a href="#" class="forgetlink" >忘记密码？</a>
                    </div>
                    <button class="login" id="login" type="button" onclick="doSubmit()">登录</button>
                    <input type="hidden" name="EXPIRE" id="EXPIRE" value="0" />
                </form>
                <p>
                    <span style="margin-left:5px;">推荐使用<a href="http://www.google.cn/chrome/browser/" target="_blank"
                                                          style="padding: 5px;">chrome</a>进行浏览</span>
                </p>
            </div>
        </div>
    </div>
</div>
</body>

<script type="text/javascript">
    function doSubmit() {
        if (validateForm())
            document.getElementById('aform').submit();
    }
    function xfocus() {
        document.getElementById('j_username').focus();
    }
    function keyDown(e) {
        e = event ? event : (window.event ? window.event : null);
        if (e.keyCode == 13) {
            doSubmit();
        }
    }
    //判断访问者的浏览器是否是IE
    function CheckBrowserIsIE() {
        var result = false;
        var browser = navigator.appName;
        if (browser == "Microsoft Internet Explorer") {
            result = true;
        }
        return result;
    }
    function validateForm() {
        var userid = $('#j_username').val();
        var passwd = $('#j_password').val();
        var randomx = $('#randImg').val();
        if (userid.length == 0 || passwd.length == 0 ) {
            alert("用户名, 密码, 认证码必须填写.");
            return false;
        }
        return true;
    }

    function loadImage() {
        url = "imageHTML.jsp";
        XMLHttpUtil('randImg', url, "");
    }
    function XMLHttpUtil(spanTag, url, paraStr) {

    }
</script>
</html>